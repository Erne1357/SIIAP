{# app/templates/_flash.html #}
<div id="flash-container" class="flash-container">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        {% set alert_type = {
          'success': 'success',
          'error': 'danger',
          'danger': 'danger',
          'warning': 'warning',
          'info': 'info'
        }.get(category, 'info') %}
        
        <div class="alert alert-{{ alert_type }} alert-dismissible fade show" role="alert">
          <strong>
            {% if alert_type == 'success' %}
              <i class="fas fa-check-circle me-1"></i>
            {% elif alert_type == 'danger' %}
              <i class="fas fa-exclamation-circle me-1"></i>
            {% elif alert_type == 'warning' %}
              <i class="fas fa-exclamation-triangle me-1"></i>
            {% else %}
              <i class="fas fa-info-circle me-1"></i>
            {% endif %}
          </strong>
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
</div>